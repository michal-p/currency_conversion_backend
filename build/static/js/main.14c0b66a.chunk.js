(this.webpackJsonpcurrency_conversion=this.webpackJsonpcurrency_conversion||[]).push([[0],{15:function(e,t,n){e.exports=n(39)},20:function(e,t,n){},21:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),u=(n(20),n(4)),l=n(2),m=(n(21),n(3)),s=n.n(m),i={getCurrencies:function(){return s.a.get("".concat("/api","/currencies")).then((function(e){return e.data}))},getLatest:function(){return s.a.get("".concat("/api","/latest")).then((function(e){return e.data}))},convert:function(e){return s.a.post("".concat("/api","/convert"),e).then((function(e){return e.data}))},getStatistics:function(){return s.a.get("".concat("/api","/statistics")).then((function(e){return e.data}))}},f=function(e){var t=e.currencies,n=e.handler,a=e.selected;return r.a.createElement("select",{value:a,onChange:n},Object.keys(t).map((function(e){return r.a.createElement("option",{key:e,value:e},e," (",t[e],")")})))},E=function(e){var t=e.currenciesList,n=e.conversion,a=e.handleSubmit,c=e.handleAmount,o=e.handleFromChange,u=e.handleToChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:a},r.a.createElement("div",{className:"line"},r.a.createElement("label",{className:"col75"},r.a.createElement("input",{value:n.amountFrom,type:"number",step:"0.01",onChange:c})),r.a.createElement("label",{className:"col25"},r.a.createElement(f,{selected:n.currencyFrom,handler:o,currencies:t}))),r.a.createElement("div",{className:"line"},r.a.createElement("label",{className:"col75"},r.a.createElement("input",{className:"read",value:n.amountTo,type:"number",readOnly:!0})),r.a.createElement("label",{className:"col25"},r.a.createElement(f,{selected:n.currencyTo,handler:u,currencies:t}))),r.a.createElement("div",{className:"line"},r.a.createElement("label",{className:"col25"},r.a.createElement("input",{type:"submit",value:"Transfer"})))))},v=function(e){var t=e.stats;return r.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},r.a.createElement("br",null),r.a.createElement("p",null,"Most popular destination currency ",r.a.createElement("em",null,t.popular)),r.a.createElement("p",null,"Total amount have been converted ",r.a.createElement("em",null,t.amountConvertedInUSD),"USD"),r.a.createElement("p",null,"Total amount of requests ",r.a.createElement("em",null,t.amountRequests)))},d=function(){return r.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},r.a.createElement("br",null),r.a.createElement("em",null,"Converter app footer component"))},p=function(e){var t=e.message,n=e.type;return null===t?null:r.a.createElement("div",{className:n},t)};var h=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({}),m=Object(l.a)(o,2),s=m[0],f=m[1],h=Object(a.useState)({currencyFrom:"HUF",amountFrom:0,currencyTo:"EUR",amountTo:0}),b=Object(l.a)(h,2),y=b[0],g=b[1],S=Object(a.useState)(null),O=Object(l.a)(S,2),T=O[0],j=O[1],C=Object(a.useState)("note"),F=Object(l.a)(C,2),N=F[0],A=F[1],k=function(e,t){j(e),A(t),setTimeout((function(){return j(null)}),5e3)},D=function(){i.getStatistics().then((function(e){return f(e)})).catch((function(e){return k("effect getStatistics service error: ".concat(e),"error")}))};return Object(a.useEffect)((function(){i.getCurrencies().then((function(e){return c(e)})).catch((function(e){return k("effect getCurrencies service error: ".concat(e),"error")}))}),[]),Object(a.useEffect)((function(){return D()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Currency conversion HEADER"),r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement("h1",null,"Converter"),r.a.createElement(E,{currenciesList:n,conversion:y,handleSubmit:function(e){var t={fromCurrency:y.currencyFrom,toCurrency:y.currencyTo,fromAmount:y.amountFrom};i.convert(t).then((function(e){g({currencyFrom:e.currencyFrom,amountFrom:e.amountFrom,currencyTo:e.currencyTo,amountTo:e.amountTo}),k("Saved to transfer to db: ".concat(JSON.stringify(y)),"note"),D()})).catch((function(e){return k("effect convert service error: ".concat(e),"error")})),e.preventDefault()},handleAmount:function(e){g(Object(u.a)({},y,{amountFrom:e.target.value,amountTo:""}))},handleFromChange:function(e){g(Object(u.a)({},y,{currencyFrom:e.target.value}))},handleToChange:function(e){g(Object(u.a)({},y,{currencyTo:e.target.value}))}})),r.a.createElement("section",{className:"statistics"},r.a.createElement("h1",null,"Statistics"),r.a.createElement(v,{stats:s}))),r.a.createElement(p,{message:T,type:N}),r.a.createElement(d,null))};o.a.render(r.a.createElement(h,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.14c0b66a.chunk.js.map